{% extends 'base.html' %}
{% load static %}
{%block title%}Cart{%endblock%}
{% block content %}
<html lang="en">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css"
		integrity="sha384-r4NyP46KrjDleawBgD5tp8Y7UzmLA05oM1iAEQ17CSuDqnUK2+k9luXQOfXJCJ4I" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"
		integrity="sha512-PgQMlq+nqFLV4ylk1gwUOgm6CtIIXkKwaIHp/PAIWHzig/lKZSEGKEysh0TCVbHJXCLN7WetD8TFecIky75ZfQ=="
		crossorigin="anonymous" />
	<link rel="stylesheet" type="text/css" href="{% static 'css/cartmain.css' %}">

</head>

<body class="bg-light">
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-12 col-lg-8 col-11 mx-auto mb-lg-0 mb-5 shadow">
				<div class="row gx-3">
						{% for item in items %}
						<div class="card p-4">
							<div class="row">
								<!-- cart images div -->
								<div
									class="col-md-5 col-11 mx-auto bg-light d-flex justify-content-center align-items-center shadow product_img">
									<img src="{{item.product.image.url}}" class="img-fluid"
										alt="{{item.product.description}}">
								</div>

								<!-- cart product details -->
								<div class="col-md-7 col-11 mx-auto px-4 mt-2">
									<div class="row">
										<!-- product name  -->
										<div class="col-6 card-title">
											<h1 class="mb-4 product_name">{{item.product.name}}</h1>
											<p class="mb-2 product-description">{{item.product.description}}</p>

										</div>
										<!-- quantity inc dec -->
										<div class="col-6">

											<p class="quantity">{{item.quantity}}</p>
											<div class="quantity">
												<img data-product={{item.product.id}} data-action="add"
													src="{%static 'img/arrow-up.png'%}"
													class="chng-quantity update-cart">

												<img data-product={{item.product.id}} data-action="remove"
													src="{%static 'img/arrow-down.png'%}"
													class="chng-quantity update-cart">
											</div>
										</div>


									</div>
									<!-- //remover move and price -->
									<div class="row">
										<div class="col-5 d-flex justify-content-end price_money">
											<h4>$<span id="itemval">{{item.product.price|floatformat:2}}</span></h4>

										</div>

										<div class="col-0 d-flex justify-content-end price_money">
											<h3>Total: <span>{{order.get_total}}</span>
											</h3>

										</div>

									</div>
								</div>
							</div>

						</div>
						{% endfor %}
					
				</div>
			</div>

			<div class="col-md-12 col-lg-4 col-11 mx-auto mt-lg-0 mt-md-5">
				<div class="right_side p-3 shadow bg-white">
					<h2 class="product_name mb-5">The Total Amount Of</h2>
					<div class="price_indiv d-flex justify-content-between">
						<p>Total Items</p>
						<p><span id="shipping_charge">{{order.get_cart_items}}</span></p>
					</div>
					<div class="price_indiv d-flex justify-content-between">
						<p>Product amount</p>
						<p>$<span id="product_total_amt">{{order.get_cart_total}}</span></p>
					</div>
					
					<hr />
					<div class="total-amt d-flex justify-content-between font-weight-bold">
						<p>Grand total: </p>
						<p>$<span id="total_cart_amt">{{order.get_cart_total}}</span></p>
					</div>
					<button type="button" class="btn btn-outline-danger btn-lg">
						<a href = "/checkout" class="view">
							<span>Checkout</span>
						</a>
					</button>
				</div>

		</div>
	</div>


	<!-- Optional JavaScript -->
	<!-- Popper.js first, then Bootstrap JS -->
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
		integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
	</script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js"
		integrity="sha384-oesi62hOLfzrys4LxRF63OJCXdXDipiYWBnvTl9Y9/TRlw5xlKIEHpNyvvDShgf/" crossorigin="anonymous">
	</script>


</body>

</html>
{%endblock%}